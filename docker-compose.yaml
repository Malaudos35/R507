services:
  app:
    build:
      context: .
      dockerfile: app3.Dockerfile
    ports:
      - "8000:8000"
    networks:
      - frontend
    volumes:
      - ./:/app
    environment:
      - DATABASE_URL=sqlite:///./supervision.db

  router:
    image: aguacero7/frr-router:latest
    container_name: router
    hostname: test-router-1
    privileged: true
    cap_add:
      - NET_ADMIN
      - SYS_ADMIN
      - NET_RAW
    sysctls:
      - net.ipv4.ip_forward=1
      - net.ipv6.conf.all.forwarding=0
    networks:
      frontend:
        # ipv4_address: 1.2.3.4
    # volumes:
      # - vtysh.conf:/etc/frr/vtysh.conf # doit Ãªtre vide
  ####### Pas obligatoire, utile si vous voulez personnaliser la conf frr en live avec un fichier frr.conf

      # - frr.conf:/etc/frr/frr.conf

networks:
  frontend:
    # Specify driver options
    driver: bridge